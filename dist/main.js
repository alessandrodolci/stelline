!function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";function o(t,e,i,o){this.x=t,this.y=e,this.size=i,this.visible=o}i.r(e);const n=30,s=4,r=document.getElementById("stars").getContext("2d");function h(t,e){o.call(this,t,e,n,!0),this.shots=[]}function a(t,e,i,n){o.call(this,t,e,s,null),this.targetX=i,this.targetY=n,this.hit=!1}h.prototype=Object.create(o.prototype),h.prototype.constructor=h,h.prototype.setPosition=function(t,e){this.x=t,this.y=e},h.prototype.getNoseXCoordinate=function(){return this.x},h.prototype.getNoseYCoordinate=function(){return this.y-this.size/2},h.prototype.getLeftWingXCoordinate=function(){return this.x-this.size},h.prototype.getRightWingXCoordinate=function(){return this.x+this.size},h.prototype.getWingsYCoordinate=function(){return this.y+this.size/4},h.prototype.getTopXCoordinate=function(){return this.x},h.prototype.getTopYCoordinate=function(){return this.y-this.size/8},h.prototype.getRearXCoordinate=function(){return this.x},h.prototype.getRearYCoordinate=function(){return this.y+this.size/3},h.prototype.moveVertically=function(t){this.y+=t,this.size+=t/6},h.prototype.moveHorizontally=function(t){this.x+=t},h.prototype.draw=function(){r.beginPath(),r.moveTo(this.getLeftWingXCoordinate(),this.getWingsYCoordinate()),r.lineTo(this.getNoseXCoordinate(),this.getNoseYCoordinate()),r.lineTo(this.getRightWingXCoordinate(),this.getWingsYCoordinate()),r.lineTo(this.getRearXCoordinate(),this.getRearYCoordinate()),r.lineTo(this.getLeftWingXCoordinate(),this.getWingsYCoordinate()),r.moveTo(this.getTopXCoordinate(),this.getTopYCoordinate()),r.lineTo(this.getLeftWingXCoordinate(),this.getWingsYCoordinate()),r.moveTo(this.getTopXCoordinate(),this.getTopYCoordinate()),r.lineTo(this.getRightWingXCoordinate(),this.getWingsYCoordinate()),r.moveTo(this.getTopXCoordinate(),this.getTopYCoordinate()),r.lineTo(this.getNoseXCoordinate(),this.getNoseYCoordinate()),r.closePath(),r.strokeStyle="white",r.lineWidth=1.5,r.stroke()},h.prototype.fireShot=function(t,e){this.shots.push(new a(this.getNoseXCoordinate(),this.getNoseYCoordinate(),t,e))},a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.prototype.draw=function(){r.beginPath(),r.ellipse(this.x,this.y,this.size/2,this.size/2,0,0,2*Math.PI),r.closePath(),r.fillStyle="grey",r.fill()};const l=1,c=8,d=document.getElementById("stars").getContext("2d");function y(t,e){o.call(this,t,e,null,!1),this.size=Math.random()*(c-l)+l,this.initialX=t,this.initialY=e,this.vx=2*Math.random()-1,this.vy=2*Math.random()-1,this.cycles=0}y.prototype=Object.create(o.prototype),y.prototype.constructor=y,y.prototype.respawn=function(){this.x=this.initialX,this.y=this.initialY,this.vx=2*Math.random()-1,this.vy=2*Math.random()-1,this.visible=!1,this.cycles=0},y.prototype.draw=function(){d.beginPath(),d.ellipse(this.x,this.y,this.size/2,this.size/2,0,0,2*Math.PI),d.closePath(),d.fillStyle="white",d.fill()};const p=document.getElementById("stars"),g=p.getContext("2d");let u=0,f=!1;const w=(t,e)=>e.x-t.x<e.size&&e.x-t.x>-e.size&&e.y-t.y<e.size/2&&e.y-t.y>-e.size/2&&!0===t.visible,m=(t,e)=>{e.visible=!1;for(let t=0;t<e.shots.length;t++)e.shots[t].hit=!0;for(let e=0;e<t.length;e++)t[e].visible=!1;f=!0,g.fillStyle="white",g.textAlign="center",g.font="72px monospace",g.fillText("GAME OVER",p.width/2,p.height/2),g.font="38px monospace",g.fillText("Tap to restart",p.width/2,p.height/2+80),window.addEventListener("touchend",()=>{f=!1,t.forEach(t=>t.respawn()),e.setPosition(p.width/2,p.height/6*5),x(e,t)},{once:!0})},v=(t,e)=>{((t,e)=>{for(let i=0;i<t.length;i++){const o=t[i];w(o,e)&&(e.visible=!1,m(t,e))}})(t,e),((t,e)=>{for(let i=0;i<t.length;i++){const o=t[i];for(let t=0;t<e.length;t++){const i=e[t];i.x-o.x<o.size&&i.x-o.x>-o.size&&i.y-o.y<o.size&&i.y-o.y>-o.size&&!0===o.visible&&(i.hit=!0,o.respawn())}}})(t,e.shots)},x=(t,e)=>{g.clearRect(0,0,p.width,p.height),g.fillStyle="white",g.font="24px mono",g.fillText("SCORE: "+u,10,30),(t=>{for(let e=0;e<t.length;e++){let i=t[e];i.visible?(i.cycles>200&&i.size<c&&(i.size++,i.cycles=0),i.draw(),i.cycles++):Math.random()>.995&&(i.visible=!0),i.x+=i.vx,i.y+=i.vy,(i.x>p.width-i.size||i.x<i.size||i.y>p.height-i.size||i.y<i.size)&&(i.y>p.height-i.size&&u++,i.respawn())}})(e),t.visible&&t.draw(),t.shots=t.shots.filter(t=>((t=>{t.y=t.y-4,0===t.y&&(t.hit=!0),t.draw()})(t),!t.hit)),v(e,t),f||window.requestAnimationFrame(()=>x(t,e))};i.d(e,"getNewStars",(function(){return b}));const C=200;function b(){const t=[];for(let e=0;e<C;e++){const e=new y(z.width/2,z.height/3);t.push(e)}return t}const z=document.getElementById("stars");z.width=window.innerWidth,z.height=window.innerHeight;const T=b(),X=new h(z.width/2,z.height/6*5);var Y;Y=X,window.onkeydown=t=>{switch(t.key){case"ArrowLeft":case"KeyA":Y.moveHorizontally(-1);break;case"ArrowRight":case"KeyD":Y.moveHorizontally(1);break;case"ArrowUp":case"KeyW":Y.moveVertically(-.4);break;case"ArrowDown":case"KeyS":Y.moveVertically(.4);break;case"KeyZ":Y.fireShot()}},window.onclick=t=>{Y.fireShot(t.clientX,t.clientY)},((t,e)=>{let i=0,o=0;window.addEventListener("deviceorientation",t=>{i=t.beta,o=t.gamma,i>90&&(i=90),i<-90&&(i=-90)},{once:!0}),window.addEventListener("deviceorientation",n=>{let s=n.beta-i;const r=n.gamma-o;s>90&&(s=90),s<-90&&(s=-90),t.moveVertically(s/20);for(let t=0;t<e.length;t++)e[t].x-=r/5,e[t].y+=s/5})})(X,T),window.requestAnimationFrame(()=>x(X,T))}]);