!function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";function s(t,e,i,s){this.x=t,this.y=e,this.size=i,this.visible=s}i.r(e);const o=30,n=4,h=document.getElementById("stars").getContext("2d");function r(t,e){s.call(this,t,e,o,!0),this.shots=[]}function l(t,e,i,o){s.call(this,t,e,n,null),this.targetX=i,this.targetY=o,this.hit=!1}r.prototype=Object.create(s.prototype),r.prototype.constructor=r,r.prototype.moveVertically=function(t){this.y+=t,this.size+=t/6},r.prototype.moveHorizontally=function(t){this.x+=t},r.prototype.draw=function(){h.beginPath(),h.moveTo(this.x-this.size,this.y+this.size/4),h.lineTo(this.x,this.y-this.size/2),h.lineTo(this.x+this.size,this.y+this.size/4),h.lineTo(this.x,this.y+this.size/3),h.lineTo(this.x-this.size,this.y+this.size/4),h.moveTo(this.x,this.y-this.size/8),h.lineTo(this.x-this.size,this.y+this.size/4),h.moveTo(this.x,this.y-this.size/8),h.lineTo(this.x+this.size,this.y+this.size/4),h.moveTo(this.x,this.y-this.size/8),h.lineTo(this.x,this.y-this.size/2),h.closePath(),h.strokeStyle="white",h.lineWidth=1.5,h.stroke()},r.prototype.fireShot=function(t,e){this.shots.push(new l(this.x,this.y-this.size/2,t,e))},l.prototype=Object.create(s.prototype),l.prototype.constructor=l,l.prototype.draw=function(){h.beginPath(),h.ellipse(this.x,this.y,this.size/2,this.size/2,0,0,2*Math.PI),h.closePath(),h.fillStyle="grey",h.fill()};const c=1,a=8,y=document.getElementById("stars").getContext("2d");function d(t,e){s.call(this,t,e,null,!1),this.size=Math.random()*(a-c)+c,this.initialX=t,this.initialY=e,this.vx=2*Math.random()-1,this.vy=2*Math.random()-1,this.cycles=0}d.prototype=Object.create(s.prototype),d.prototype.constructor=d,d.prototype.respawn=function(){this.x=this.initialX,this.y=this.initialY,this.vx=2*Math.random()-1,this.vy=2*Math.random()-1,this.visible=!1,this.cycles=0},d.prototype.draw=function(){y.beginPath(),y.ellipse(this.x,this.y,this.size/2,this.size/2,0,0,2*Math.PI),y.closePath(),y.fillStyle="white",y.fill()};const f=document.getElementById("stars"),u=f.getContext("2d");let p=0,w=!1;const x=(t,e)=>e.x-t.x<e.size&&e.x-t.x>-e.size&&e.y-t.y<e.size&&e.y-t.y>-e.size&&!0===t.visible,z=(t,e)=>{e.visible=!1;for(let t=0;t<e.shots.length;t++)e.shots[t].hit=!0;for(let e=0;e<t.length;e++)t[e].visible=!1;u.fillStyle="white",u.font="72px mono",u.textAlign="center",u.fillText("GAME OVER",f.width/2,f.height/2),w=!0},m=(t,e)=>{((t,e)=>{for(let i=0;i<t.length;i++){const s=t[i];x(s,e)&&(e.visible=!1,z(t,e))}})(t,e),((t,e)=>{for(let i=0;i<t.length;i++){const s=t[i];for(let t=0;t<e.length;t++){const i=e[t];i.x-s.x<s.size&&i.x-s.x>-s.size&&i.y-s.y<s.size&&i.y-s.y>-s.size&&!0===s.visible&&(i.hit=!0,s.respawn())}}})(t,e.shots)},v=(t,e)=>{u.clearRect(0,0,f.width,f.height),u.fillStyle="white",u.font="24px mono",u.fillText("SCORE: "+p,10,30),(t=>{for(let e=0;e<t.length;e++){let i=t[e];i.visible?(i.cycles>200&&i.size<a&&(i.size++,i.cycles=0),i.draw(),i.cycles++):Math.random()>.995&&(i.visible=!0),i.x+=i.vx,i.y+=i.vy,(i.x>f.width-i.size||i.x<i.size||i.y>f.height-i.size||i.y<i.size)&&(i.y>f.height-i.size&&p++,i.respawn())}})(e),t.visible&&t.draw(),t.shots=t.shots.filter(t=>((t=>{t.y=t.y-4,0===t.y&&(t.hit=!0),t.draw()})(t),!t.hit)),m(e,t),w||window.requestAnimationFrame(()=>v(t,e))},g=document.getElementById("stars");g.width=window.innerWidth,g.height=window.innerHeight;const b=g.width/2,S=g.height/3,T=[];for(let t=0;t<200;t++){const t=new d(b,S);T.push(t)}const M=new r(g.width/2,g.height/6*5);var P;P=M,window.onkeydown=t=>{switch(t.code){case"ArrowLeft":case"KeyA":P.moveHorizontally(-1);break;case"ArrowRight":case"KeyD":P.moveHorizontally(1);break;case"ArrowUp":case"KeyW":P.moveVertically(-.4);break;case"ArrowDown":case"KeyS":P.moveVertically(.4);break;case"KeyZ":P.fireShot()}},window.onclick=t=>{P.fireShot(t.clientX,t.clientY)},((t,e)=>{let i=0,s=0;window.addEventListener("deviceorientation",t=>{i=t.beta,s=t.gamma,i>90&&(i=90),i<-90&&(i=-90)},{once:!0}),window.addEventListener("deviceorientation",o=>{const n=o.beta-i,h=o.gamma-s;n>90&&(n=90),n<-90&&(n=-90),t.moveVertically(n/20);for(let t=0;t<e.length;t++)e[t].x-=h/5,e[t].y+=n/5})})(M,T),window.requestAnimationFrame(()=>v(M,T))}]);